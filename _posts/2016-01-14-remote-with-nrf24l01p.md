---
layout: post
title: Результаты по использованию nrf24l01+
tags: [nrf24l01p, stm32, narodmon, openhab]
---

Уже некоторое продолжительное время тестирую дешевые китайские копии
радиомодулей nrf24l01+ для передачи небольших данных от датчиков и для
удалённого управления нагрузкой. Есть успехи с управлением китайскими сенсорными
выключателями Livolo и с удалённым измерением температуры на улице. Остановлюсь
подробнее на последнем.

Устройство состоит из МК stm32f030, радиомодуля и самого датчика (конечно,
ds18b20). Используется энергосберегающий режим STOP (потребление около 10 мкА)
и раз в 5 минут происходит считывание датчика с последующей передачей данных на
приёмник. Приёмником выступает радиомодуль, установленный на OrangePI. ПО
верхнего уровня состоит из Python-скрипта, который собирает данные и отправляет
их на MQTT брокер. Для визуализации установлен OpenHAB, который подключается к
брокеру для получения данных.

Помимо отображения данных в веб-интерфейсе они еще пересылаются на сайт
[narodmon](http://narodmon.ru). Для этого в OpenHAB настроено правило по
изменению значения температуры.

После отладки и причесывания постараюсь выложить все наработки на github, а
пока скриншот из OpenHAB.

![OpenHAB Dashboard](https://b00bl1k.ru/pub/images/openhab-dashboard.png)
